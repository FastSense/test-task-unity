# test-task-unity

Сервер для тестового задания.
Выдаёт по запросу [облако точек](https://youtu.be/262S-Z1o4tw?t=29) (до 20000 точек), снятое во время пролёта дрона по помещению в некоторый момент времени.



## Инструкция по запуску
Нужен установленный [Python 3.6+](https://www.python.org/downloads/)
```
git clone https://github.com/FastSense/test-task-unity.git
cd test-task-unity
pip3 install -r requirements.txt
python3 main.py
```

После запуска открыть в браузере [http://localhost:5000/](http://localhost:5000/). Должна открыться страничка с примером простой визуализации облака точек. Это значит, что сервер запустился и можно приступать к работе над тестовым заданием



## API сервера


### [GET] http://localhost:5000/
Возвращает демо-страничку


### [GET] http://localhost:5000/point_cloud
Возвращает данные текущего облака точек. Для простоты каждый такой GET-запрос возвращает следующий "снимок" облака точек.
Возвращаемые данные представляют из себя следующее. Облако точек сохраняется в массив Float32:

|`x0`|`y0`|`z0`|`0`  |`x1`|`y1`|`z1`|`0`  |`x2`|...|
|---|---|---|---|---|---|---|---|---|---|

Далее этот массив сжимается с помощью zlib, после чего записывется в виде base64 и помещается в поле `data` сообщения.

```json
{
  "data": "eJwtmHdYVNfTxxEswN1V1CgasIEaZHfVZY2YCPeMKPYSO2hiw/ZTQYMlC..."
}
```
